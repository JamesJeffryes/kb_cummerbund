
Validating module in (/Users/4pz/kbase/test6666/kb_cummerbund)

Validating method in (/Users/4pz/kbase/test6666/kb_cummerbund/ui/narrative/methods/create_expression_matrix)

Validating method in (/Users/4pz/kbase/test6666/kb_cummerbund/ui/narrative/methods/generate_cummerbund_plot2)

Validating method in (/Users/4pz/kbase/test6666/kb_cummerbund/ui/narrative/methods/generate_cummerbund_plots)

Validating method in (/Users/4pz/kbase/test6666/kb_cummerbund/ui/narrative/methods/generate_interactive_heatmaps)

Validating method in (/Users/4pz/kbase/test6666/kb_cummerbund/ui/narrative/methods/generate_interactive_heatmaps_backup)

Validating method in (/Users/4pz/kbase/test6666/kb_cummerbund/ui/narrative/methods/view_expression_interactive_heatmap)

Validating method in (/Users/4pz/kbase/test6666/kb_cummerbund/ui/narrative/methods/view_volcano_plot)


Congrats- this module is valid.


Delete old Docker containers
eaf5719decb0

Build Docker image
Sending build context to Docker daemon 557.1 kB
Sending build context to Docker daemon 1.114 MB
Sending build context to Docker daemon 1.671 MB
Sending build context to Docker daemon 2.228 MB
Sending build context to Docker daemon 2.785 MB
Sending build context to Docker daemon 3.342 MB
Sending build context to Docker daemon 3.899 MB
Sending build context to Docker daemon 4.456 MB
Sending build context to Docker daemon 5.014 MB
Sending build context to Docker daemon 5.571 MB
Sending build context to Docker daemon 6.128 MB
Sending build context to Docker daemon 6.685 MB
Sending build context to Docker daemon 7.242 MB
Sending build context to Docker daemon 7.799 MB
Sending build context to Docker daemon 8.356 MB
Sending build context to Docker daemon 8.913 MB
Sending build context to Docker daemon  9.47 MB
Sending build context to Docker daemon 10.03 MB
Sending build context to Docker daemon 10.58 MB
Sending build context to Docker daemon 11.14 MB
Sending build context to Docker daemon  11.7 MB
Sending build context to Docker daemon 12.26 MB
Sending build context to Docker daemon 12.81 MB
Sending build context to Docker daemon 13.37 MB
Sending build context to Docker daemon 13.93 MB
Sending build context to Docker daemon 14.48 MB
Sending build context to Docker daemon 15.04 MB
Sending build context to Docker daemon  15.6 MB
Sending build context to Docker daemon 16.15 MB
Sending build context to Docker daemon 16.71 MB
Sending build context to Docker daemon 17.27 MB
Sending build context to Docker daemon 17.83 MB
Sending build context to Docker daemon 18.38 MB
Sending build context to Docker daemon 18.74 MB

Step 1 : FROM kbase/kbase:sdkbase.latest
[91m# Executing 1 build trigger...
[0mStep 1 : RUN . /kb/dev_container/user-env.sh &&   rm /kb/runtime/java &&   ln -s /usr/lib/jvm/java-7-oracle /kb/runtime/java &&   cd /kb/dev_container/modules &&   rm -rf jars &&   git clone https://github.com/kbase/jars &&   rm -rf kb_sdk &&   git clone https://github.com/kbase/kb_sdk -b develop &&   cd /kb/dev_container/modules/jars &&   make && make deploy &&   cd /kb/dev_container/modules/kb_sdk &&   make && make deploy
 ---> Using cache
 ---> 67265a2f927c
Step 2 : MAINTAINER KBase Developer
 ---> Using cache
 ---> 26e888670964
Step 3 : RUN apt-get update --fix-missing && apt-get install -y wget bzip2 ca-certificates     libglib2.0-0 libxext6 libsm6 libxrender1     git mercurial subversion
 ---> Using cache
 ---> 36512d645358
Step 4 : RUN echo 'export PATH=/opt/conda/bin:$PATH' > /etc/profile.d/conda.sh &&     wget --quiet https://repo.continuum.io/miniconda/Miniconda2-4.1.11-Linux-x86_64.sh -O ~/miniconda.sh &&     /bin/bash ~/miniconda.sh -b -p /opt/conda &&     rm ~/miniconda.sh
 ---> Using cache
 ---> ae27f7097ab0
Step 5 : RUN apt-get install -y curl grep sed dpkg &&     TINI_VERSION=`curl https://github.com/krallin/tini/releases/latest | grep -o "/v.*\"" | sed 's:^..\(.*\).$:\1:'` &&     curl -L "https://github.com/krallin/tini/releases/download/v${TINI_VERSION}/tini_${TINI_VERSION}.deb" > tini.deb &&     dpkg -i tini.deb &&     rm tini.deb &&     apt-get clean
 ---> Using cache
 ---> d594ec4cbb0a
Step 6 : ENV PATH /opt/conda/bin:$PATH
 ---> Using cache
 ---> 0fe3c0f81036
Step 7 : RUN conda config --add channels conda-forge ;conda config --add channels defaults ; conda config --add channels r ;conda config --add channels bioconda ;
 ---> Using cache
 ---> c5a743524ee7
Step 8 : RUN conda install -y bioconductor-ballgown
 ---> Using cache
 ---> 23821d9c1255
Step 9 : RUN conda install  -y bioconductor-cummerbund
 ---> Using cache
 ---> 9f1f4b2022cd
Step 10 : RUN conda install  -y r-getopt
 ---> Using cache
 ---> 8a37dac9314f
Step 11 : RUN conda install  -y r-rjson
 ---> Using cache
 ---> f1a466fed0a1
Step 12 : RUN pip install -Iv requests_toolbelt>=0.7.0
 ---> Using cache
 ---> 0ca9196e8e62
Step 13 : COPY ./ /kb/module
 ---> d5ae74a12a6e
Removing intermediate container aed289afcb12
Step 14 : RUN mkdir -p /kb/module/work/tmp
 ---> Running in 1404bcab23ca
 ---> 0f96a31c60bb
Removing intermediate container 1404bcab23ca
Step 15 : WORKDIR /kb/module
 ---> Running in 4a27183b285d
 ---> 8b277189f5b7
Removing intermediate container 4a27183b285d
Step 16 : COPY ./deps /kb/deps
 ---> c7cc863c4570
Removing intermediate container a44b1d4ecc1a
Step 17 : RUN export PYTHONPATH="${PYTHONPATH}:/kb/module/lib/kb_cummerbund"
 ---> Running in 685b9006a10a
 ---> 46ee2ac10356
Removing intermediate container 685b9006a10a
Step 18 : RUN make
 ---> Running in dbc55a0e0385
kb-sdk compile kb_cummerbund.spec \
		--out lib \
		--plclname kb_cummerbund::kb_cummerbundClient \
		--jsclname javascript/Client \
		--pyclname kb_cummerbund.kb_cummerbundClient \
		--javasrc src \
		--java \
		--pysrvname kb_cummerbund.kb_cummerbundServer \
		--pyimplname kb_cummerbund.kb_cummerbundImpl;
KBase SDK version 1.0.11 (commit 6181171cc19757a843211825aa584ca65caca5e2)
chmod +x scripts/entrypoint.sh
mkdir -p bin
echo '#!/bin/bash' > scripts/start_server.sh
echo 'script_dir=$(dirname "$(readlink -f "$0")")' >> scripts/start_server.sh
echo 'export KB_DEPLOYMENT_CONFIG=$script_dir/../deploy.cfg' >> scripts/start_server.sh
echo 'export PYTHONPATH=$script_dir/../lib:$PATH:$PYTHONPATH' >> scripts/start_server.sh
echo 'uwsgi --master --processes 5 --threads 5 --http :5000 --wsgi-file $script_dir/../lib/kb_cummerbund/kb_cummerbundServer.py' >> scripts/start_server.sh
chmod +x scripts/start_server.sh
mkdir -p bin
echo '#!/bin/bash' > bin/run_kb_cummerbund_async_job.sh
echo 'script_dir=$(dirname "$(readlink -f "$0")")' >> bin/run_kb_cummerbund_async_job.sh
echo 'export PYTHONPATH=$script_dir/../lib:$PATH:$PYTHONPATH' >> bin/run_kb_cummerbund_async_job.sh
echo 'python -u $script_dir/../lib/kb_cummerbund/kb_cummerbundServer.py $1 $2 $3' >> bin/run_kb_cummerbund_async_job.sh
chmod +x bin/run_kb_cummerbund_async_job.sh
echo '#!/bin/bash' > test/run_tests.sh
echo 'script_dir=$(dirname "$(readlink -f "$0")")' >> test/run_tests.sh
echo 'export KB_DEPLOYMENT_CONFIG=$script_dir/../deploy.cfg' >> test/run_tests.sh
echo 'export KB_AUTH_TOKEN=`cat /kb/module/work/token`' >> test/run_tests.sh
echo 'export PYTHONPATH=$script_dir/../lib:$PATH:$PYTHONPATH' >> test/run_tests.sh
echo 'cd $script_dir/../test' >> test/run_tests.sh
echo 'python -u -m unittest discover -p "*_test.py"' >> test/run_tests.sh
chmod +x test/run_tests.sh
 ---> 467e398fb48a
Removing intermediate container dbc55a0e0385
Step 19 : ENTRYPOINT ./scripts/entrypoint.sh
 ---> Running in 196e8d2e2635
 ---> b20930ccda54
Removing intermediate container 196e8d2e2635
Step 20 : CMD 
 ---> Running in 48be2ae3ae7b
 ---> fa7f44a923e4
Removing intermediate container 48be2ae3ae7b
Successfully built fa7f44a923e4
Delete old Docker image
Deleted: sha256:6cd63406064724ee538504cd95ce1e6fc3bbc55432c628fcce40aff9fa9d75f7
Deleted: sha256:aa2913fbe3000264d6bbfa136adcf03d058ec4f7d84b88243712e0e76ff1650e
Deleted: sha256:305e76b0aac62590e430d983bcf3d52b88855633a9b0853497ab03ab15a14099
Deleted: sha256:a2c8c996591ba2a37a0d54c20a70702977d2e2e191ee3d2cc406ed6a7f99bb4b
Deleted: sha256:a0e324c202ea42d51a5f9b149cdd1ef21cc60eec1a059f548e6e8871e3703099
Deleted: sha256:e45f2e1f3ff86a00170ce399ba796b1ddc31f11fa7da74271f19f87c03ece6cf
Deleted: sha256:0061147f08b2cb54c4e22502c9acaadb0157504af845ff30e28eadaa683f1b46
Deleted: sha256:b77488bb8256df0b19a37f9bb8a89bf995ca909dd9239d7ddc65f344f01ac3c9
Deleted: sha256:9ff6b8e537a19736e61f07f63c97a8d419c587f75329877378a848180510d407
Deleted: sha256:79429ff7e9859eba3bdc7f52a500554fa23eeccbd7de5b2645cbe08c3533039d
Deleted: sha256:e2a7696f886a505502bf4f1daf9fead6ecf67ed7192f2d07eb94c748a49a7603
Deleted: sha256:8c1a73f4ab93ce35ad62b4400aa92124d70358afd35cce924644048e0247f6f2
WARNING! Several Docker host IP addresses detected, used first:  192.168.99.1

Run Tests
bash test/run_tests.sh
2017-01-24 17:48:09,733 - kb_cummerbundImpl.py - 104 - INFO - Logger was set
Getting genome info
2702/26/1
1485280358.43 - CallbackServer: Subjob method: GenomeAnnotationAPI.get_genome_v1 JobID: f0f78a0a-bdac-42f8-bf94-d6903a7f08ae
1485280358.91 - CallbackServer: Running module GenomeAnnotationAPI:
url: https://github.com/kbase/genome_annotation_api
commit: c72af17c73c2c64bff920fec514b3adc63dbdec4
version: 0.1.1
release: release

2017-01-24 17:48:19,432 - script_util.py - 118 - INFO - Downloading shock node https://appdev.kbase.us/services/shock-api/node/1b7167c6-0b3e-4c29-8ce3-873ff6dc378c
shock metadata is {u'last_modified': u'2017-01-24T17:52:38.2Z', u'tags': [], u'indexes': {u'size': {u'total_units': 46, u'average_unit_size': 1048576}}, u'linkages': [], u'created_on': u'2017-01-05T20:06:13.295Z', u'version': u'77bb4d7b13424c658e9d5a407c7f70cc', u'file': {u'name': u'wt-hy5-cuffdiff.zip', u'virtual_parts': [], u'checksum': {u'md5': u'c0c46debd07ed38bb5bc21d7172a44f7'}, u'format': u'', u'virtual': False, u'size': 47846761}, u'attributes': None, u'type': u'basic', u'id': u'1b7167c6-0b3e-4c29-8ce3-873ff6dc378c'}
download_url is https://appdev.kbase.us/services/shock-api/node/1b7167c6-0b3e-4c29-8ce3-873ff6dc378c?download_raw
2017-01-24 17:48:27,327 - kb_cummerbundImpl.py - 317 - INFO - Cuffdiff folder = /kb/module/work/cuffdiffData/cuffdiff
2017-01-24 17:48:27,328 - script_util2.py - 147 - INFO - PNG file already exists
2017-01-24 17:48:27,328 - kb_cummerbundImpl.py - 391 - INFO - Problem generating image and json file - dispersionplot.R
2017-01-24 17:48:27,329 - script_util2.py - 147 - INFO - PNG file already exists
2017-01-24 17:48:27,329 - kb_cummerbundImpl.py - 391 - INFO - Problem generating image and json file - fpkmscvplot.R
2017-01-24 17:48:27,330 - script_util2.py - 147 - INFO - PNG file already exists
2017-01-24 17:48:27,330 - kb_cummerbundImpl.py - 391 - INFO - Problem generating image and json file - isoformscvplot.R
2017-01-24 17:48:27,330 - script_util2.py - 147 - INFO - PNG file already exists
2017-01-24 17:48:27,330 - kb_cummerbundImpl.py - 391 - INFO - Problem generating image and json file - densityplot.R
2017-01-24 17:48:27,331 - script_util2.py - 147 - INFO - PNG file already exists
2017-01-24 17:48:27,331 - kb_cummerbundImpl.py - 391 - INFO - Problem generating image and json file - csdensityrepplot.R
2017-01-24 17:48:27,331 - script_util2.py - 147 - INFO - PNG file already exists
2017-01-24 17:48:27,331 - kb_cummerbundImpl.py - 391 - INFO - Problem generating image and json file - boxplot.R
2017-01-24 17:48:27,332 - script_util2.py - 147 - INFO - PNG file already exists
2017-01-24 17:48:27,332 - kb_cummerbundImpl.py - 391 - INFO - Problem generating image and json file - boxrepplot.R
2017-01-24 17:48:27,333 - script_util2.py - 147 - INFO - PNG file already exists
2017-01-24 17:48:27,333 - kb_cummerbundImpl.py - 391 - INFO - Problem generating image and json file - pairwisescatterplots.R
2017-01-24 17:48:27,333 - script_util2.py - 147 - INFO - PNG file already exists
2017-01-24 17:48:27,334 - kb_cummerbundImpl.py - 391 - INFO - Problem generating image and json file - volcanomatrixplot.R
2017-01-24 17:48:27,334 - script_util2.py - 147 - INFO - PNG file already exists
2017-01-24 17:48:27,334 - kb_cummerbundImpl.py - 391 - INFO - Problem generating image and json file - pcaplot.R
2017-01-24 17:48:27,335 - script_util2.py - 147 - INFO - PNG file already exists
2017-01-24 17:48:27,335 - kb_cummerbundImpl.py - 391 - INFO - Problem generating image and json file - pcarepplot.R
2017-01-24 17:48:40,400 - script_util2.py - 184 - INFO - R script did not return normally, return code - 1
2017-01-24 17:48:40,401 - kb_cummerbundImpl.py - 391 - INFO - Problem generating image and json file - mdsplot.R
2017-01-24 17:48:40,402 - script_util2.py - 147 - INFO - PNG file already exists
2017-01-24 17:48:40,402 - kb_cummerbundImpl.py - 391 - INFO - Problem generating image and json file - mdsrepplot.R
/kb/module/work/cuffdiffData/cuffdiff/gene_exp_diff.out
Shutting down callback server...
1485280390.26 - CallbackServer: Shutting down executor service
